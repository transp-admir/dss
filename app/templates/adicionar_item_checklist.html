{% extends "base_adm.html" %}

{% block title %}Adicionar Item ao Checklist{% endblock %}

{% block head %}
    {{ super() }}
    {# Importando o CSS do conteúdo para reutilizar os estilos do formulário #}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/conteudo.css') }}">
{% endblock %}

{% block header %}
    Adicionar Novo Item ao Checklist
{% endblock %}

{% block content %}

{# O formulário agora usa o mesmo estilo de card da página de conteúdo #}
<div id="form-cadastro" style="display: block;">
    <form method="POST" action="{{ url_for('admin.adicionar_item_checklist') }}">
        <div class="form-grid">
            
            {# Campo Tipo #}
            <div>
                <label for="tipo">Tipo de Checklist</label>
                <select id="tipo" name="tipo" required>
                    <option value="" {% if not form_data or not form_data.tipo %}selected{% endif %} disabled>Selecione o tipo...</option>
                    <option value="DIÁRIO" {% if form_data and form_data.tipo == 'DIÁRIO' %}selected{% endif %}>Diário</option>
                    <option value="MENSAL" {% if form_data and form_data.tipo == 'MENSAL' %}selected{% endif %}>Mensal</option>
                </select>
            </div>

            {# Campo Categoria #}
            <div>
                <label for="categoria">Categoria do Item</label>
                <select id="categoria" name="categoria" required>
                    <option value="" {% if not form_data or not form_data.categoria %}selected{% endif %} disabled>Selecione a categoria...</option>
                    <option value="MOTORISTA" {% if form_data and form_data.categoria == 'MOTORISTA' %}selected{% endif %}>Motorista</option>
                    <option value="VEÍCULO" {% if form_data and form_data.categoria == 'VEÍCULO' %}selected{% endif %}>Veículo</option>
                    <option value="EQUIPAMENTOS" {% if form_data and form_data.categoria == 'EQUIPAMENTOS' %}selected{% endif %}>Equipamentos</option>
                    <option value="DOCUMENTAÇÃO" {% if form_data and form_data.categoria == 'DOCUMENTAÇÃO' %}selected{% endif %}>Documentação</option>
                </select>
            </div>

            {# Campo Texto do Item (ocupa duas colunas) #}
            <div style="grid-column: 1 / -1;">
                <label for="texto">Texto do Item (Pergunta)</label>
                <textarea id="texto" name="texto" rows="3" placeholder="Ex: Verificar nível de óleo do motor." required>{{ form_data.texto if form_data else '' }}</textarea>
            </div>

            {# Campo Ordem #}
            <div>
                <label for="ordem">Ordem de Exibição</label>
                <input type="number" id="ordem" name="ordem" value="{{ form_data.ordem if form_data else 0 }}" min="0">
                <small>Itens com número menor aparecem primeiro.</small>
            </div>

        </div>
        <br>
        {# Botões de ação #}
        <div class="form-actions">
            <a href="{{ url_for('admin.gerenciar_checklists') }}" class="btn btn-secondary">Cancelar</a>
            <button type="submit" class="btn btn-primary">Salvar Item</button>
        </div>
    </form>
</div>

{% endblock %}
